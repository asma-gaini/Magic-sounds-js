//  **************************************************** DATA  ****************************************************

//  **************************************************** DATA _ MUSIC INFORMATION  ****************************************************
const data_music = [
  {
    title: "roozaye abri-1",
    artist: "jahanbakhsh",
    audioSrc:
      "https://dl.rozmusic.com/Music/1396/10/13/Babak%20Jahanbakhsh%20-%20Roozhaye%20Abri%20(128).mp3",
    image: "../image/music cover/Babak Jahanbakhsh - RoozHaye Abri.jpg",
    id: 1,
    textMusic: [
      "roozaye abri-1",
      "روزای ابری",

      "I gave you your dreams",
      "من رویا هات رو بهت دادم",

      "Cause you ment the world",
      "چون تو دنیای من بودی",

      "So did I deserve to be left in hurt",
      "پس واقعا لیاقتم این بود که منو با این همه درد تنها بذاری",

      "So you think I don’t know",
      "فکر می کنی نمیدونم",

      "You’re out of control",
      "که تو غیر قابل کنترلی",
    ],
  },
  {
    title: "Parvaz-2",
    artist: "shahin najafi",
    audioSrc:
      "https://dl.ritmy.io/Single/Shahin_Najafi/Parvaz-128[ritmy.io].mp3",
    image: "../image/music cover/shahin najafi-parvaz.jpg",
    id: 2,
    textMusic: [
      "parvaz-2",
      "پرواز",

      "I gave you your dreams",
      "من رویا هات رو بهت دادم",

      "Cause you ment the world",
      "چون تو دنیای من بودی",

      "So did I deserve to be left in hurt",
      "پس واقعا لیاقتم این بود که منو با این همه درد تنها بذاری",

      "So you think I don’t know",
      "فکر می کنی نمیدونم",

      "You’re out of control",
      "که تو غیر قابل کنترلی",
    ],
  },
  {
    title: "nistameton-3",
    artist: "shaye",
    audioSrc:
      "https://dl.melonmusic.ir/Music/Shayea%20-%20Nistametoon%20(320).mp3",
    image: "../image/music cover/shaye-nistameton.png",
    id: 3,
    textMusic: [
      "nistametoon-3",
      "نیستمون",

      "I gave you your dreams",
      "من رویا هات رو بهت دادم",

      "Cause you ment the world",
      "چون تو دنیای من بودی",

      "So did I deserve to be left in hurt",
      "پس واقعا لیاقتم این بود که منو با این همه درد تنها بذاری",

      "So you think I don’t know",
      "فکر می کنی نمیدونم",

      "You’re out of control",
      "که تو غیر قابل کنترلی",
    ],
  },
  {
    title: "nafas-4",
    artist: "salar aghili",
    audioSrc:
      "https://dl.rozmusic.com/Music/1402/10/21/Salar%20Aghili%20-%20Nafas%20%28128%29.mp3",
    image: "../image/music cover/Babak Jahanbakhsh - RoozHaye Abri.jpg",
    id: 4,
    textMusic: [
      "nafas",
      " نفس",

      "I gave you your dreams",
      "من رویا هات رو بهت دادم",

      "Cause you ment the world",
      "چون تو دنیای من بودی",

      "So did I deserve to be left in hurt",
      "پس واقعا لیاقتم این بود که منو با این همه درد تنها بذاری",

      "So you think I don’t know",
      "فکر می کنی نمیدونم",

      "You’re out of control",
      "که تو غیر قابل کنترلی",
    ],
  },
  {
    title: "male mani-5",
    artist: "moeen zed",
    audioSrc:
      "https://dl.rozmusic.com/Music/1401/12/16/Moein%20Z%20-%20Male%20Mani%20%28128%29.mp3",
    image: "../image/music cover/shahin najafi-parvaz.jpg",
    id: 5,
    textMusic: [
      "lhg lkd",
      "مال منی",

      "I gave you your dreams",
      "من رویا هات رو بهت دادم",

      "Cause you ment the world",
      "چون تو دنیای من بودی",

      "So did I deserve to be left in hurt",
      "پس واقعا لیاقتم این بود که منو با این همه درد تنها بذاری",

      "So you think I don’t know",
      "فکر می کنی نمیدونم",

      "You’re out of control",
      "که تو غیر قابل کنترلی",
    ],
  },
  {
    title: "khial khosh-6",
    artist: "alireza ghorbani",
    audioSrc:
      "https://dl.rozmusic.com/Music/1399/04/29/Alireza%20Ghorbani%20-%20Khiale%20Khosh%20%28128%29.mp3",
    image: "../image/music cover/shaye-nistameton.png",
    id: 6,
    textMusic: [
      "khial khosh",
      "خیال خوش",

      "I gave you your dreams",
      "من رویا هات رو بهت دادم",

      "Cause you ment the world",
      "چون تو دنیای من بودی",

      "So did I deserve to be left in hurt",
      "پس واقعا لیاقتم این بود که منو با این همه درد تنها بذاری",

      "So you think I don’t know",
      "فکر می کنی نمیدونم",

      "You’re out of control",
      "که تو غیر قابل کنترلی",
    ],
  },
  {
    title: "yadam raft-7",
    artist: "reza sadeghi",
    audioSrc:
      "https://dl.rozmusic.com/Music/1400/05/30/Reza%20Sadeghi%20-%20%20Yadam%20Raft%20%28128%29.mp3",
    image: "../image/music cover/Babak Jahanbakhsh - RoozHaye Abri.jpg",
    id: 7,
    textMusic: [
      "yadam raft",
      "یادم رفت ",

      "I gave you your dreams",
      "من رویا هات رو بهت دادم",

      "Cause you ment the world",
      "چون تو دنیای من بودی",

      "So did I deserve to be left in hurt",
      "پس واقعا لیاقتم این بود که منو با این همه درد تنها بذاری",

      "So you think I don’t know",
      "فکر می کنی نمیدونم",

      "You’re out of control",
      "که تو غیر قابل کنترلی",
    ],
  },
  {
    title: "kharabesh kardi-8",
    artist: "farzad farzin",
    audioSrc:
      "https://dl.rozmusic.com/Music/1397/11/09/Farzad%20Farzin%20-%20Kharabesh%20Kardi%20(128).mp3",
    image: "../image/music cover/shahin najafi-parvaz.jpg",
    id: 8,
    textMusic: [
      "kharabesh kardi",
      "خرابش کردی",

      "I gave you your dreams",
      "من رویا هات رو بهت دادم",

      "Cause you ment the world",
      "چون تو دنیای من بودی",

      "So did I deserve to be left in hurt",
      "پس واقعا لیاقتم این بود که منو با این همه درد تنها بذاری",

      "So you think I don’t know",
      "فکر می کنی نمیدونم",

      "You’re out of control",
      "که تو غیر قابل کنترلی",
    ],
  },
  {
    title: "koja rafte boodi-9",
    artist: "hoorosh band",
    audioSrc:
      "https://hiblog.tv/1000310/file/?Ur=https://irsv.upmusics.com/AliBZ/Hoorosh%20Band%20-%20Koja%20Rafte%20Boodi%20(320).mp3&hst=irsv.upmusics.com&prt=https&cuid=1000310",
    image: "../image/music cover/shaye-nistameton.png",
    id: 9,
    textMusic: [
      "koja rafte boodi",
      "کجا رفته بودی",

      "I gave you your dreams",
      "من رویا هات رو بهت دادم",

      "Cause you ment the world",
      "چون تو دنیای من بودی",

      "So did I deserve to be left in hurt",
      "پس واقعا لیاقتم این بود که منو با این همه درد تنها بذاری",

      "So you think I don’t know",
      "فکر می کنی نمیدونم",

      "You’re out of control",
      "که تو غیر قابل کنترلی",
    ],
  },
  {
    title: "var agar-10",
    artist: "erfan tahmaseb",
    audioSrc:
      "https://hiblog.tv/1000310/file/?Ur=https://irsv.upmusics.com/AliBZ/Erfan%20Tahmasbi%20-%20Vay%20Agar%20(320).mp3&hst=irsv.upmusics.com&prt=https&cuid=1000310",
    image: "../image/music cover/Babak Jahanbakhsh - RoozHaye Abri.jpg",
    id: 10,
    textMusic: [
      "vay agar",
      " وای اگر",

      "I gave you your dreams",
      "من رویا هات رو بهت دادم",

      "Cause you ment the world",
      "چون تو دنیای من بودی",

      "So did I deserve to be left in hurt",
      "پس واقعا لیاقتم این بود که منو با این همه درد تنها بذاری",

      "So you think I don’t know",
      "فکر می کنی نمیدونم",

      "You’re out of control",
      "که تو غیر قابل کنترلی",
    ],
  },
  {
    title: "mane divaneh-11",
    artist: "reza bahram",
    audioSrc:
      "https://dl.rozmusic.com/Music/1402/07/05/Reza%20Bahram%20-%20Mane%20Divaneh%20%28128%29.mp3",
    image: "../image/music cover/shahin najafi-parvaz.jpg",
    id: 11,
    textMusic: [
      "mane divaneh",
      "من دیوانه",

      "I gave you your dreams",
      "من رویا هات رو بهت دادم",

      "Cause you ment the world",
      "چون تو دنیای من بودی",

      "So did I deserve to be left in hurt",
      "پس واقعا لیاقتم این بود که منو با این همه درد تنها بذاری",

      "So you think I don’t know",
      "فکر می کنی نمیدونم",

      "You’re out of control",
      "که تو غیر قابل کنترلی",
    ],
  },
  {
    title: "khastam-12",
    artist: "behnam bani",
    audioSrc:
      "https://hiblog.tv/1000310/file/?Ur=https://irsv.upmusics.com/AliBZ/Behnam%20Bani%20-%20Khastam%20(320).mp3&hst=irsv.upmusics.com&prt=https&cuid=1000310",
    image: "../image/music cover/shaye-nistameton.png",
    id: 12,
    textMusic: [
      "khastam",
      "خستم",

      "I gave you your dreams",
      "من رویا هات رو بهت دادم",

      "Cause you ment the world",
      "چون تو دنیای من بودی",

      "So did I deserve to be left in hurt",
      "پس واقعا لیاقتم این بود که منو با این همه درد تنها بذاری",

      "So you think I don’t know",
      "فکر می کنی نمیدونم",

      "You’re out of control",
      "که تو غیر قابل کنترلی",
    ],
  },
];

//  **************************************************** DATA _ DASHBOARD INFORMATION  ****************************************************
const vertical_navigation = {
  header_VNav: {
    brandName: "menu",
    logoImage: "",
  },
  information_VNav: [
    {
      mainId: "1",
      name: "Home",
      svg: "../image/svg/house.svg",
      target: "#",
      subid: "null",
      subLink: "null",
    },
    // ,
    // {
    //   mainId: "2",
    //   name: "Dashboard",
    //   svg: "",
    //   target: "#",
    //   subid: "sub1",
    //   subLink: [
    //     {
    //       mainId: "3",
    //       name: "item 1",
    //     },
    //     {
    //       mainId: "4",
    //       name: "item 2",
    //     },
    //   ],
    // },
    // {
    //   mainId: "5",
    //   name: "Order",
    //   svg: "",
    //   target: "#",
    //   subid: "null",
    //   subLink: "null",
    // },
  ],
};

//  **************************************************** GLOBAL VARIABLE ****************************************************

var page_size = 1;
var page_counter = 1;
var start_indexSong = page_counter - 1;
var end_indexSong = start_indexSong + page_size;
function setStartAndEndIndex(page_counter, page_size) {
  start_indexSong = (page_counter - 1) * page_size;
  end_indexSong = start_indexSong + page_size;
}

var pagination_size = 3;
const page_lenght = data_music.length / page_size;

var songImage = document.getElementById("single-song-image");
var songTitle = document.getElementById("modalSong-title");
var songArtistName = document.getElementById("modalSong-artistName");

//  **************************************************** GLOBAL FUNCTION  ****************************************************
function setMusicHasBeenCalled(clickedId) {
  if (
    document
      .querySelector('div[id="' + clickedId + '"]')
      .getAttribute("setmusicHasBeenCalled") == "false"
  ) {
    setSongInformation(clickedId);
    document
      .querySelector('div[id="' + clickedId + '"]')
      .setAttribute("setmusicHasBeenCalled", "true");
  }
}

//  **************************************************** CREATE ELEMENT  ****************************************************

window.onload = createPage();
function createPage() {
  createPlayList();
  createModal();
  createPaginationItem();
  createVerticalNavigation();
}

//  **************************************************** CREATE ELEMENT _ CREATE VERTICAL NAVIGATION(NV)  ****************************************************
function createVerticalNavigation() {
  setHeader_VerticalNavigation();
  createList_VerticalNavigation();
}

function setHeader_VerticalNavigation() {
  document.querySelector(".fs-5").innerHTML = "Menu";
}

function createList_VerticalNavigation() {
  const dashboardUl = document.querySelector("ul[id='menu']");
  for (let i = 0; i < vertical_navigation.information_VNav.length; i++) {
    //CREATE list
    const list_VN = document.createElement("li");
    dashboardUl.appendChild(list_VN);

    //CREATE link
    const link_VN = document.createElement("a");

    link_VN.setAttribute(
      "href",
      vertical_navigation.information_VNav[i].target
    );
    link_VN.setAttribute("class", "nav-link");
    link_VN.classList.add("align-middle");
    link_VN.classList.add("px-0");
    link_VN.classList.add("setColor");
    link_VN.setAttribute("id", vertical_navigation.information_VNav[i].mainId);

    list_VN.appendChild(link_VN);

    //CREATE svg
    const svg = document.createElement("img");

    svg.setAttribute("src", vertical_navigation.information_VNav[i].svg);
    svg.setAttribute("class", "dashboardSvg");

    link_VN.appendChild(svg);

    //CREATE name item
    const name = document.createElement("span");

    name.setAttribute("class", "ms-1");
    name.classList.add("d-none");
    name.classList.add("d-sm-inline");
    name.innerHTML = vertical_navigation.information_VNav[i].name;

    link_VN.appendChild(name);

    //CREATE sublink
    if (vertical_navigation.information_VNav[i].subLink != "null") {
      const linkContentSub = document.querySelector(
        'a[id="' + vertical_navigation.information_VNav[i].mainId + '"]'
      );
      linkContentSub.setAttribute(
        "href",
        "#" + vertical_navigation.information_VNav[i].subid
      );
      linkContentSub.setAttribute("data-bs-toggle", "collapse");

      //ul sublink
      const sublinkUl = document.createElement("ul");

      sublinkUl.setAttribute("class", "collapse");
      sublinkUl.classList.add("show");
      sublinkUl.classList.add("nav");
      sublinkUl.classList.add("flex-column");
      sublinkUl.classList.add("ms-1");
      sublinkUl.setAttribute("data-bs-parent", "#menu");
      sublinkUl.setAttribute(
        "id",
        vertical_navigation.information_VNav[i].subid
      );

      linkContentSub.parentElement.appendChild(sublinkUl);

      for (
        let j = 0;
        j < vertical_navigation.information_VNav[i].subLink.length;
        j++
      ) {
        //list sub list
        const subList_VN = document.createElement("li");
        sublinkUl.appendChild(subList_VN);

        //CREATE sublink
        const sublink_VN = document.createElement("a");

        sublink_VN.setAttribute("href", "#");
        sublink_VN.setAttribute("class", "nav-link");
        sublink_VN.classList.add("px-0");
        sublink_VN.setAttribute(
          "id",
          vertical_navigation.information_VNav[i].subLink[j].mainId
        );

        subList_VN.appendChild(sublink_VN);

        //CREATE sub name item
        const subName = document.createElement("span");

        subName.setAttribute("class", "d-none");
        subName.classList.add("d-sm-inline");
        subName.innerHTML =
          vertical_navigation.information_VNav[i].subLink[j].name;

        sublink_VN.appendChild(subName);
      }
    }
  }
}

//  **************************************************** CREATE ELEMENT _ CREATE PLAY LIST ELEMENT  ****************************************************
function createPlayList() {
  const content = document.querySelector(".content");
  const palyListUl = document.createElement("ul");
  palyListUl.setAttribute("class", "playList");
  content.appendChild(palyListUl);

  createItemOfPlaylist(palyListUl);
}

function createItemOfPlaylist(ulTag) {
  for (let i = start_indexSong; i < end_indexSong; i++) {
    //CREATE li
    const playlistItem = document.createElement("li");
    playlistItem.setAttribute("class", "playList-item");
    ulTag.appendChild(playlistItem);

    //CREATE image div
    const imageDiv = document.createElement("div");

    imageDiv.setAttribute("class", "playList-item-div-image");
    imageDiv.setAttribute("id", data_music[i].id);
    imageDiv.setAttribute("onClick", "togglePlay(this.id)");
    imageDiv.setAttribute("setmusicHasBeenCalled", "false");

    playlistItem.appendChild(imageDiv);

    //CREATE image tag
    const imageTag = document.createElement("img");

    imageTag.setAttribute("src", data_music[i].image);
    imageTag.setAttribute("alt", data_music[i].title);
    imageTag.setAttribute("class", "playList-item-image");

    imageDiv.appendChild(imageTag);

    //CREATE svg play
    const playSvg = document.createElement("img");
    playSvg.setAttribute("src", "../image/svg/play.svg");
    playSvg.setAttribute("class", "svg");
    playSvg.setAttribute("id", "playSvg");

    imageDiv.appendChild(playSvg);

    //CREATE svg pause
    const pauseSvg = document.createElement("img");
    pauseSvg.setAttribute("src", "../image/svg/pause.svg");
    pauseSvg.setAttribute("class", "svg");
    pauseSvg.setAttribute("id", "pauseSvg");

    imageDiv.appendChild(pauseSvg);

    //CREATE Link
    const link = document.createElement("a");

    link.setAttribute("href", "#");
    link.setAttribute("class", "playList-item-link");
    link.setAttribute("data-bs-toggle", "modal");
    link.setAttribute("data-bs-target", "#myModal");
    link.setAttribute("id", data_music[i].id);
    link.setAttribute("onClick", "openModal(this.id)");

    playlistItem.appendChild(link);

    //CRETE link information
    const divLinkInfo = document.createElement("div");

    divLinkInfo.setAttribute("class", "playList-item-info");

    link.appendChild(divLinkInfo);

    //CREATE link information title
    const titleLink = document.createElement("p");

    titleLink.setAttribute("class", "info-title");
    titleLink.innerHTML = data_music[i].title;

    divLinkInfo.appendChild(titleLink);

    //CREATE link information subtitle
    const subtitleLink = document.createElement("p");

    subtitleLink.setAttribute("class", "info-subtitle");
    subtitleLink.innerHTML = data_music[i].artist;

    divLinkInfo.appendChild(subtitleLink);
  }
}

//  **************************************************** CREATE ELEMENT _ CREATE MODAL  ****************************************************
function createModal() {
  const modalContent = document.querySelector(".modal-body");
  //CREATE div body
  const modalBodyDiv = document.createElement("div");
  modalBodyDiv.setAttribute("class", "modalContent-body");
  modalContent.appendChild(modalBodyDiv);

  //CREATE image div
  const modalImageDiv = document.createElement("div");
  modalImageDiv.setAttribute("class", "modalSong-Image");
  modalBodyDiv.appendChild(modalImageDiv);

  //CREATE image tag
  const modalImageTag = document.createElement("img");

  modalImageTag.setAttribute("src", "");
  modalImageTag.setAttribute("alt", "");
  modalImageTag.setAttribute("id", "single-song-image");

  modalImageDiv.appendChild(modalImageTag);

  //CREATE modal song information
  //div
  const modalInfoDiv = document.createElement("div");
  modalInfoDiv.setAttribute("class", "modalSong-info");
  modalBodyDiv.appendChild(modalInfoDiv);
  //h3
  const modalInfoTitle = document.createElement("h3");
  modalInfoTitle.setAttribute("class", "modalSong-title");
  modalInfoTitle.setAttribute("id", "modalSong-title");
  modalInfoDiv.appendChild(modalInfoTitle);
  //p
  const modalInfoArtist = document.createElement("h3");
  modalInfoArtist.setAttribute("class", "modalSong-artistName");
  modalInfoArtist.setAttribute("id", "modalSong-artistName");
  modalInfoDiv.appendChild(modalInfoArtist);

  //CREATE audio
  const modalAudioTag = document.createElement("audio");

  modalAudioTag.addEventListener("play", handlePlayPause);
  modalAudioTag.addEventListener("pause", handlePlayPause);

  modalAudioTag.setAttribute("src", "");
  modalAudioTag.setAttribute("controls", "controls");
  modalAudioTag.setAttribute("alt", "");
  modalAudioTag.setAttribute("class", "modualSong-audio");
  modalAudioTag.setAttribute("id", "single-song");

  modalBodyDiv.appendChild(modalAudioTag);

  //CREATE text poem
  const modaltextDiv = document.createElement("div");
  modaltextDiv.setAttribute("class", "text");
  modalBodyDiv.appendChild(modaltextDiv);

  const modaltext = document.createElement("p");
  modaltext.setAttribute("class", "textContent");
  modaltext.setAttribute("id", "text");
  modaltextDiv.appendChild(modaltext);
}

//  **************************************************** CREATE ELEMENT _ CREATE PAGINATION  ****************************************************
function createPaginationItem() {
  const paginationContent = document.querySelector(".pagination");

  //CREATE PAGINATION _ Previous button
  const PreviousItem = document.createElement("li");
  PreviousItem.setAttribute("class", "page-item");
  PreviousItem.setAttribute("onclick", "previousPagination()");
  paginationContent.appendChild(PreviousItem);

  const PreviousLink = document.createElement("a");
  PreviousLink.setAttribute("class", "page-link");
  PreviousLink.setAttribute("href", "#");
  PreviousLink.innerHTML = "Previous";
  PreviousItem.appendChild(PreviousLink);

  //CREATE PAGINATION _ item
  for (let i = 0; i < pagination_size; i++) {
    const paginationItem = document.createElement("li");
    paginationItem.setAttribute("class", "page-item");
    paginationItem.setAttribute("id", i + 1);
    paginationItem.setAttribute("onclick", "setPagination(this.id)");
    paginationContent.appendChild(paginationItem);

    const paginationLink = document.createElement("a");
    paginationLink.setAttribute("class", "page-link");
    paginationLink.classList.add("page-link-num");
    paginationLink.setAttribute("href", "#");
    paginationLink.innerHTML = i + 1;
    paginationItem.appendChild(paginationLink);
  }

  //CREATE PAGINATION _ next button
  const nextItem = document.createElement("li");
  nextItem.setAttribute("class", "page-item");
  nextItem.setAttribute("onclick", "nextPagination()");
  paginationContent.appendChild(nextItem);

  const nextLink = document.createElement("a");
  nextLink.setAttribute("class", "page-link");
  nextLink.setAttribute("href", "#");
  nextLink.innerHTML = "Next";
  nextItem.appendChild(nextLink);

  document.querySelector("li[id='1']").classList.add("active");
  createLastPageOfPagination();
  // createFirstPageOfPagination();
}

//  **************************************************** FUNCTION FOR PLAY AND PAUSE AUDIO  ****************************************************
function handlePlayPause() {
  const myAudio = document.getElementById("single-song");
  const myAudioSrc = myAudio.getAttribute("src");
  for (let i = 0; i < data_music.length; i++) {
    if (data_music[i].audioSrc == myAudioSrc) {
      const id = data_music[i].id;
      const getDivContentSvg = document.querySelector('div[id="' + id + '"]');

      if (event.type === "play") {
        getDivContentSvg.classList.remove("pause");
        getDivContentSvg.classList.add("play");

        getDivContentSvg.classList.remove("addPlayingHover");
        getDivContentSvg.classList.remove("removePauseHover");

        getDivContentSvg.classList.add("removePlayHover");
        getDivContentSvg.classList.add("addPauseHover");

        console.log("playing" + id);
        console.log(getDivContentSvg);
      }
      if (event.type === "pause") {
        getDivContentSvg.classList.remove("play");
        getDivContentSvg.classList.add("pause");

        getDivContentSvg.classList.remove("removePlayHover");
        getDivContentSvg.classList.remove("addPauseHover");

        getDivContentSvg.classList.add("addPlayingHover");
        getDivContentSvg.classList.add("removePauseHover");

        console.log("paused" + id);
        console.log(getDivContentSvg);
      }
    }
  }
}

//  **************************************************** FUNCTION ON THE IMAGE TAG ON PLAY LIST  ****************************************************
function togglePlay(clickedId) {
  setMusicHasBeenCalled(clickedId);

  let contentActiveClass = document.querySelectorAll('div[class="active"]');

  for (let i = 0; i < contentActiveClass.length; i++) {
    contentActiveClass[i].classList.remove("active");
  }

  playAndPuaseSong();
  document.querySelector('div[id="' + clickedId + '"]').classList.add("active");
  removeSvg(clickedId);
}

function setSongInformation(clickedId) {
  let hasBeenSet = document.querySelectorAll('[setmusicHasBeenCalled="true"]');
  for (let i = 0; i < hasBeenSet.length; i++) {
    hasBeenSet[i].setAttribute("setmusicHasBeenCalled", "false");
  }

  for (let i = 0; i < data_music.length; i++) {
    if (data_music[i].id == clickedId) {
      document
        .getElementById("single-song")
        .setAttribute("src", data_music[i].audioSrc);
      document
        .getElementById("single-song-image")
        .setAttribute("src", data_music[i].image);
      document.getElementById("modalSong-title").innerHTML =
        data_music[i].title;
      document.getElementById("modalSong-artistName").innerHTML =
        data_music[i].artist;
      setText(clickedId);
      return;
    }
  }
}

function setText(clickedId) {
  var textSong = document.getElementById("text");
  let textContent = "";

  for (let k = 0; k < data_music[clickedId - 1].textMusic.length; k++) {
    textContent += data_music[clickedId - 1].textMusic[k] + "<br>";
  }
  textSong.innerHTML = textContent;
}

function playAndPuaseSong() {
  document.getElementById("single-song").paused
    ? document.getElementById("single-song").play()
    : document.getElementById("single-song").pause();
}

function removeSvg(clickedId) {
  let includesPlayClass = document.querySelectorAll(".play");
  let includesPauseClass = document.querySelectorAll(".pause");
  for (let i = 0; i < includesPlayClass.length; i++) {
    if (includesPlayClass[i].id == clickedId) {
      continue;
    }
    includesPlayClass[i].classList.remove("play");
  }
  for (let i = 0; i < includesPauseClass.length; i++) {
    if (includesPauseClass[i].id == clickedId) {
      continue;
    }
    includesPauseClass[i].classList.remove("pause");
  }
}
//  **************************************************** FUNCTION ON THE TEXT(LINK) TAG ON PLAY LIST  ****************************************************
function openModal(clickedId) {
  setMusicHasBeenCalled(clickedId);
  document.querySelector('div[id="' + clickedId + '"]').classList.add("active");
  document.getElementById("single-song").play();
  removeSvg(clickedId);
}
//  **************************************************** FUNCTION OF PAGINATION  ****************************************************

function setPagination(paginationIdClicked) {
  document.querySelector("li.active").classList.remove("active");
  document
    .querySelector('li[id="' + paginationIdClicked + '"]')
    .classList.add("active");
  page_counter = paginationIdClicked;
  const playList = document.querySelector(".playList");
  playList.innerHTML = "";
  setStartAndEndIndex(page_counter, page_size);
  createItemOfPlaylist(playList);

  //if click on page 1
  if (paginationIdClicked == "1") {
    let listHasId = document.querySelectorAll("li[id]");

    //if active pagination > pagination number --->az adad 3 gozashte bashim k 2 ta dot dashte bashim
    if (listHasId.length > pagination_size + 1) {
      let getDotAndFirstpage = document.querySelectorAll(".PaginationFirst");
      for (let i = 0; i < getDotAndFirstpage.length; i++) {
        getDotAndFirstpage[i].remove();
      }

      let getPaginationItem = document.querySelectorAll("li[id]");
      let getPaginationLink = document.querySelectorAll("a.page-link-num");
      let id = 1;
      for (let i = 0; i < getPaginationItem.length - 1; i++) {
        getPaginationItem[i].setAttribute("id", id);
        getPaginationLink[i].innerHTML = id;
        id++;
      }
      document.querySelector('li[id="1"]').classList.add("active");
    }

    //If the last page was part of pagination and click page one --->b 1...10,11,12 residim va 1 dot darim
    if (listHasId.length == pagination_size + 1) {
      let getDotAndFirstpage = document.querySelectorAll(".PaginationFirst");

      let getPaginationItem = document.querySelectorAll("li[id]");
      let getPaginationLink = document.querySelectorAll("a.page-link-num");
      let lastItem =
        getPaginationItem[getPaginationItem.length - 1].getAttribute("id");
      if (parseInt(lastItem) == page_lenght) {
        for (let i = 0; i < getDotAndFirstpage.length; i++) {
          getDotAndFirstpage[i].remove();
        }

        createLastPageOfPagination();
        let id = 1;
        for (let i = 1; i < getPaginationItem.length; i++) {
          getPaginationItem[i].setAttribute("id", id);
          getPaginationLink[i].innerHTML = id;
          id++;
        }
        document.querySelector('li[id="1"]').classList.add("active");
      }
    }
  }

  //if click on last page
  if (paginationIdClicked == page_lenght) {
    let listHasId = document.querySelectorAll("li[id]");

    //if active pagination > pagination number --->az adad 3 gozashte bashim k 2 ta dot dashte bashim
    if (listHasId.length > pagination_size + 1) {
      let getDotAndLastpage = document.querySelectorAll(".PaginationLenght");
      for (let i = 0; i < getDotAndLastpage.length; i++) {
        getDotAndLastpage[i].remove();
      }

      let getPaginationItem = document.querySelectorAll("li[id]");
      let getPaginationLink = document.querySelectorAll("a.page-link-num");
      let id = page_lenght - (pagination_size - 1);
      for (let i = 1; i < getPaginationItem.length; i++) {
        getPaginationItem[i].setAttribute("id", id);
        getPaginationLink[i].innerHTML = id;
        id++;
      }
      document
        .querySelector('li[id="' + page_lenght + '"]')
        .classList.add("active");
    }

    //If the first page was part of pagination and click page one --->b 1,2,3..12 residim va 1 dot darim
    if (listHasId.length == pagination_size + 1) {
      let getDotAndLastpage = document.querySelectorAll(".PaginationLenght");

      let getPaginationItem = document.querySelectorAll("li[id]");
      let getPaginationLink = document.querySelectorAll("a.page-link-num");
      let secondItem = getPaginationItem[1].getAttribute("id");
      console.log(getDotAndLastpage);
      if (parseInt(secondItem) == 2) {
        // for (let i = 0; i < getDotAndLastpage.length; i++) {
        getDotAndLastpage[0].remove();
        // }

        let id = page_lenght - (pagination_size - 1);
        for (let i = 1; i < getPaginationItem.length; i++) {
          getPaginationItem[i].setAttribute("id", id);
          getPaginationLink[i].innerHTML = id;
          id++;
        }
        document
          .querySelector('li[id="' + page_lenght + '"]')
          .classList.add("active");

        createFirstPageOfPagination();
      }
    }
  }

  if (paginationIdClicked >= pagination_size) {
    if (paginationIdClicked > page_lenght - (pagination_size - 1)) {
      //if click on page 11
      if (paginationIdClicked == page_lenght - 1) {
        let getPaginationItem = document.querySelectorAll("li[id]");
        let getPaginationLink = document.querySelectorAll("a.page-link-num");
        //If the last page was part of pagination
        if (
          getPaginationItem[1].getAttribute("id") ==
          parseInt(page_lenght - (pagination_size - 1))
        ) {
          return;
        } else {
          let getDotAndLastpage =
            document.querySelectorAll(".PaginationLenght");
          for (let i = 0; i < getDotAndLastpage.length; i++) {
            getDotAndLastpage[i].remove();
          }

          for (let i = 1; i < getPaginationItem.length; i++) {
            let id = parseInt(getPaginationItem[i].getAttribute("id"));
            getPaginationItem[i].setAttribute("id", id + 1);
            getPaginationLink[i].innerHTML = id + 1;
          }
          document.querySelector("li.active").classList.remove("active");
          let activeId = parseInt(page_lenght) - 1;
          document
            .querySelector('li[id="' + activeId + '"]')
            .classList.add("active");
        }
      }
    } else {
      displayNextPages();
    }
    createFirstPageOfPagination();
  }
}

function previousPagination() {
  //get current active pagination
  let activePagination = document.querySelector("li.active");
  let activeId = activePagination.getAttribute("id");

  let getPaginationItem = document.querySelectorAll("li[id]");
  let getPaginationLink = document.querySelectorAll("a.page-link-num");
  let getFirstLiId = getPaginationItem[0].getAttribute("id");

  //If the length of the pagination pages was equal the size of the pagination display numbers
  if (activeId == page_lenght) {
    createLastPageOfPagination();
    activeId = page_lenght - 1;
    console.log(getPaginationItem.length);

    if (activeId == 1) {
      return;
    }
    if (getFirstLiId != 1) {
      for (let i = 0; i < getPaginationItem.length; i++) {
        var id = parseInt(getPaginationItem[i].getAttribute("id"));
        getPaginationItem[i].setAttribute("id", id - 1);
      }
      for (let i = 0; i < getPaginationLink.length; i++) {
        var id = parseInt(getPaginationItem[i].getAttribute("id"));
        getPaginationLink[i].innerHTML = id;
      }
      setPagination(activeId);
    }
  } else {
    //If the length of the pagination pages was larger than the size of the pagination display numbers
    if (page_lenght > pagination_size) {
      if (activeId == 1) {
        return;
      }
      if (getFirstLiId != 1) {
        for (let i = 0; i < getPaginationItem.length - 1; i++) {
          var id = parseInt(getPaginationItem[i].getAttribute("id"));
          getPaginationItem[i].setAttribute("id", id - 1);
        }
        for (let i = 0; i < getPaginationLink.length - 1; i++) {
          var id = parseInt(getPaginationItem[i].getAttribute("id"));
          getPaginationLink[i].innerHTML = id;
        }
        setPagination(activeId - 1);
      }
      activePagination.classList.remove("active");
      activeId = parseInt(activeId) - 1;
      document
        .querySelector("li[id='" + activeId + "']")
        .classList.add("active");
      setPagination(activeId);
    }

    //If the length of the pagination pages was smaler than the size of the pagination display numbers
    else {
      if (activeId == 1) {
        return;
      }
      if (getFirstLiId != 1) {
        for (let i = 0; i < getPaginationItem.length; i++) {
          var id = parseInt(getPaginationItem[i].getAttribute("id"));
          getPaginationItem[i].setAttribute("id", id - 1);
        }
        for (let i = 0; i < getPaginationLink.length; i++) {
          var id = parseInt(getPaginationItem[i].getAttribute("id"));
          getPaginationLink[i].innerHTML = id;
        }
        setPagination(activeId - 1);
      }
      activePagination.classList.remove("active");
      activeId = parseInt(activeId) - 1;
      document
        .querySelector("li[id='" + activeId + "']")
        .classList.add("active");
      setPagination(activeId);
    }
  }
}

function nextPagination() {
  //get current active pagination
  let activePagination = document.querySelector("li.active");
  let activeId = activePagination.getAttribute("id");

  let getPaginationItem = document.querySelectorAll("li[id]");
  let getPaginationLink = document.querySelectorAll("a.page-link-num");
  let getLastestLiId =
    getPaginationItem[getPaginationItem.length - 1].getAttribute("id");

  //If the length of the pagination pages was larger than the size of the pagination display numbers
  if (page_lenght > pagination_size) {
    let idCounter = parseInt(activeId) + 1;

    activePagination.classList.remove("active");
    activeId = parseInt(activeId) + 1;

    document.querySelector("li[id='" + activeId + "']").classList.add("active");
    setPagination(activeId);
  }
  //If the length of the pagination pages was equal or smaler than the size of the pagination display numbers
  else {
    // if (getLastestLiId != page_lenght) {
    //   if (activeId == getLastestLiId) {
    //     for (let i = 0; i < getPaginationItem.length; i++) {
    //       var id = parseInt(getPaginationItem[i].getAttribute("id"));
    //       if (id < page_lenght) {
    //         getPaginationItem[i].setAttribute("id", id + 1);
    //       } else {
    //         return;
    //       }
    //     }
    //     for (let i = 0; i < getPaginationLink.length; i++) {
    //       var id = parseInt(getPaginationItem[i].getAttribute("id"));
    //       if (id <= page_lenght) {
    //         getPaginationLink[i].innerHTML = id;
    //       } else {
    //         return;
    //       }
    //     }
    //     setPagination(activeId);
    //   }
  }

  // activePagination.classList.remove("active");
  // activeId = parseInt(activeId) + 1;

  // document.querySelector("li[id='" + activeId + "']").classList.add("active");
  // setPagination(activeId);
  // }
}

function createLastPageOfPagination() {
  let paginationContent = document.querySelector(".pagination");
  let nextBtnPagination = document.querySelector(
    "li[onclick='nextPagination()']"
  );

  if (page_lenght > pagination_size) {
    //CREATE PAGINATION _ pagination size
    const paginationLastPageItem = document.createElement("li");
    paginationLastPageItem.setAttribute("class", "page-item");
    paginationLastPageItem.classList.add("PaginationLenght");
    paginationLastPageItem.setAttribute("id", page_lenght);
    paginationLastPageItem.setAttribute("onclick", "setPagination(this.id)");
    paginationContent.insertBefore(paginationLastPageItem, nextBtnPagination);

    const paginationLastPageLink = document.createElement("a");
    paginationLastPageLink.setAttribute("class", "page-link");
    paginationLastPageLink.classList.add("PaginationLenght");
    paginationLastPageLink.classList.add("page-link-num");
    paginationLastPageLink.setAttribute("href", "#");
    paginationLastPageLink.innerHTML = page_lenght;
    paginationLastPageItem.appendChild(paginationLastPageLink);

    const paginationDot = document.createElement("li");
    paginationDot.setAttribute("class", "page-item");
    paginationDot.classList.add("PaginationLenght");
    paginationDot.innerHTML = "...";
    paginationContent.insertBefore(paginationDot, paginationLastPageItem);
  } else {
    return;
  }
}
function createFirstPageOfPagination() {
  let paginationContent = document.querySelector(".pagination");
  let prevBtnPagination = document.querySelector(
    "li[onclick='previousPagination()']"
  );

  if (page_lenght > pagination_size) {
    let activePagination = document.querySelector("li.active");
    let activeId = activePagination.getAttribute("id");
    if (activeId == pagination_size) {
      const paginationFirstPageItem = document.createElement("li");
      paginationFirstPageItem.setAttribute("class", "page-item");
      paginationFirstPageItem.classList.add("PaginationFirst");
      paginationFirstPageItem.setAttribute("id", "1");
      paginationFirstPageItem.setAttribute("onclick", "setPagination(this.id)");
      prevBtnPagination.after(paginationFirstPageItem);

      const paginationFirstPageLink = document.createElement("a");
      paginationFirstPageLink.setAttribute("class", "page-link");
      paginationFirstPageLink.classList.add("PaginationFirst");
      paginationFirstPageLink.classList.add("page-link-num");
      paginationFirstPageLink.setAttribute("href", "#");
      paginationFirstPageLink.innerHTML = 1;
      paginationFirstPageItem.appendChild(paginationFirstPageLink);

      const paginationDot = document.createElement("li");
      paginationDot.setAttribute("class", "page-item");
      paginationDot.classList.add("PaginationFirst");
      paginationDot.innerHTML = "...";
      paginationFirstPageItem.after(paginationDot);
    } else if (activeId == page_lenght) {
      console.log("id" + activeId);
      let getFirstElement = document.querySelector('li[id="1"]');
      let paginationDot = document.createElement("li");
      paginationDot.setAttribute("class", "page-item");
      paginationDot.classList.add("PaginationFirst");
      paginationDot.innerHTML = "...";
      getFirstElement.after(paginationDot);
    }
  } else {
    return;
  }
}

function displayNextPages() {
  //get current active pagination
  let activePagination = document.querySelector("li.active");
  let activeId = activePagination.getAttribute("id");

  let getPaginationItem = document.querySelectorAll("li[id]");
  let getPaginationLink = document.querySelectorAll("a.page-link-num");
  let getLastestLiId =
    getPaginationItem[getPaginationItem.length - 1].getAttribute("id");

  //If the length of the pagination pages was larger than the size of the pagination display numbers
  if (page_lenght > pagination_size) {
    if (activeId >= pagination_size && activeId <= page_lenght) {
      let idCounter = parseInt(activeId) - 1;
      let counter = 0;
      if (activeId == 3) {
        counter = 0;
      } else {
        counter = 1;
      }
      for (let i = counter; i < getPaginationItem.length - 1; i++) {
        getPaginationItem[i].setAttribute("id", idCounter);
        getPaginationLink[i].innerHTML = idCounter;
        idCounter++;
      }
      activePagination.classList.remove("active");
      activeId = parseInt(activeId);

      document
        .querySelector("li[id='" + activeId + "']")
        .classList.add("active");
    }
  }
}
